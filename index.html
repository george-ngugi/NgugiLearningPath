<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="Educational learning game for children with reading, math, and French activities">
    <title>Aiden's Learning Adventure</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="title">ğŸŒŸ Aiden's Learning Adventure ğŸŒŸ</h1>
        
        <!-- Mode Selection Screen -->
        <div id="mode-selection" class="mode-selection-screen">
            <h2 class="mode-selection-title">Choose Your Adventure!</h2>
            <div class="mode-cards">
                <div class="mode-card" id="prizeModeCard">
                    <div class="mode-icon">ğŸ†</div>
                    <h3>Prize Mode</h3>
                    <p>Learn and earn stars, level up, and unlock achievements!</p>
                    <button class="mode-select-btn" onclick="startPrizeMode()">Play Now</button>
                </div>
                <div class="mode-card" id="tugOfWarModeCard">
                    <div class="mode-icon">ğŸ¤œğŸ’ªğŸ¤›</div>
                    <h3>Tug of War</h3>
                    <p>Challenge your opponent in an exciting battle of knowledge!</p>
                    <button class="mode-select-btn" onclick="startTugOfWarMode()">Start Battle</button>
                </div>
                <div class="mode-card" id="buildingModeCard">
                    <div class="mode-icon">â›ï¸</div>
                    <h3>Minecraft World</h3>
                    <p>Build your own 3D world with blocks you've earned!</p>
                    <button class="mode-select-btn" onclick="startBuildingMode()">Build Now</button>
                </div>
            </div>
        </div>
        
        
        <!-- Main Game Container (Prize Mode) -->
        <div id="prize-mode-container" class="hidden">
        
        <div class="prize-mode-header">
            <button id="backToMenuBtn" class="back-to-menu-btn" onclick="backToMainMenu()">â¬…ï¸ Main Menu</button>
            <h2 class="prize-mode-title">ğŸ† Prize Mode</h2>
        </div>
        
        <div class="subject-selector">
            <button id="englishSubject" class="subject-btn active">ğŸ‡¬ğŸ‡§ English</button>
            <button id="mathSubject" class="subject-btn">ğŸ”¢ Math</button>
            <button id="frenchSubject" class="subject-btn">ğŸ‡«ğŸ‡· French</button>
            <button id="musicSubject" class="subject-btn">ğŸ¹ Music</button>
        </div>
        
        <div class="score-board">
            <div class="score">Score: <span id="score">0</span></div>
            <div class="level">Level: <span id="level">1</span> ğŸ¯</div>
            <div class="streak">Streak: <span id="streak">0</span> ğŸ”¥</div>
            <div class="stars">Stars: <span id="stars">0</span> â­</div>
        </div>

        <div class="progress-bar-container">
            <div class="progress-bar" id="progressBar">
                <span class="progress-text" id="progressText">0 / 100 XP</span>
            </div>
        </div>

        <div class="achievements" id="achievements">
            <!-- Achievements will be displayed here -->
        </div>

        <!-- English Game Modes -->
        <div id="english-modes" class="game-mode-selector">
            <button id="readingMode" class="mode-btn active">ğŸ“– Reading Mode</button>
            <button id="spellingMode" class="mode-btn">âœï¸ Spelling Mode</button>
            <button id="sentenceMode" class="mode-btn">ğŸ“ Sentence Mode</button>
            <button id="comprehensionMode" class="mode-btn">ğŸ“š Comprehension Mode</button>
            <button id="rhymingMode" class="mode-btn">ğŸµ Rhyming Mode</button>
            <button id="digraphsMode" class="mode-btn">ğŸ”¤ Digraphs</button>
        </div>
        
        <!-- Math Game Modes -->
        <div id="math-modes" class="game-mode-selector hidden">
            <button id="additionMode" class="mode-btn active">â• Addition</button>
            <button id="subtractionMode" class="mode-btn">â– Subtraction</button>
            <button id="multiplicationMode" class="mode-btn">âœ–ï¸ Multiplication</button>
            <button id="countingMode" class="mode-btn">ğŸ”¢ Counting</button>
            <button id="clockMode" class="mode-btn">ğŸ• Clock</button>
        </div>
        
        <!-- French Game Modes -->
        <div id="french-modes" class="game-mode-selector hidden">
            <button id="frenchWordsMode" class="mode-btn active">ğŸ“– French Words</button>
            <button id="frenchNumbersMode" class="mode-btn">ğŸ”¢ Numbers</button>
            <button id="frenchColorsMode" class="mode-btn">ğŸ¨ Colors</button>
            <button id="frenchPhrasesMode" class="mode-btn">ğŸ’¬ Phrases</button>
            <button id="frenchDaysMode" class="mode-btn">ğŸ“… Days</button>
        </div>
        
        <!-- Music Game Modes -->
        <div id="music-modes" class="game-mode-selector hidden">
            <button id="pianoMode" class="mode-btn active">ğŸ¹ Piano Keys</button>
            <button id="musicQuizMode" class="mode-btn">ğŸµ Music Quiz</button>
            <button id="melodiesMode" class="mode-btn">ğŸ¼ Melodies</button>
            <button id="recorderMode" class="mode-btn">ğŸº Recorder Keys</button>
        </div>

        <!-- Reading Mode -->
        <div id="reading-game" class="game-section active">
            <div class="reading-type-selector">
                <button id="wordReadingBtn" class="reading-type-btn active">ğŸ“– Words</button>
                <button id="sentenceReadingBtn" class="reading-type-btn">ğŸ“š Sentences</button>
            </div>

            <div class="word-display">
                <h2 id="currentWord">cat</h2>
                <button id="pronounceBtn" class="pronounce-btn">ğŸ”Š Hear Word</button>
            </div>
            
            <div class="image-container">
                <div id="wordImage" class="word-image">ğŸ±</div>
            </div>

            <div class="question" id="readingQuestion">What does this word say?</div>
            
            <div class="sentence-reading-display" id="sentenceReadingDisplay">
                <!-- Sentence will be displayed here for reading -->
            </div>

            <div class="options" id="readingOptions">
                <!-- Options will be generated by JavaScript -->
            </div>
        </div>

        <!-- Spelling Mode -->
        <div id="spelling-game" class="game-section">
            <div class="word-display">
                <div class="image-container">
                    <div id="spellingImage" class="word-image">ğŸ±</div>
                </div>
                <button id="spellingPronounceBtn" class="pronounce-btn">ğŸ”Š Hear Word</button>
            </div>

            <div class="question">How do you spell this word?</div>
            
            <div class="spelling-input-container">
                <input type="text" id="spellingInput" class="spelling-input" placeholder="Type the word here..." maxlength="15">
                <button id="checkSpelling" class="check-btn">âœ“ Check</button>
            </div>

            <div class="letter-buttons" id="letterButtons">
                <!-- Letter buttons will be generated by JavaScript -->
            </div>
        </div>

        <!-- Feedback Section -->
        <div id="feedback" class="feedback hidden">
            <div class="feedback-content">
                <span id="feedbackEmoji">ğŸ‰</span>
                <span id="feedbackText">Great job!</span>
            </div>
        </div>

        <!-- Sentence Mode -->
        <div id="sentence-game" class="game-section">
            <div class="word-display">
                <div class="image-container">
                    <div id="sentenceImage" class="word-image">ğŸ“–</div>
                </div>
                <button id="sentencePronounceBtn" class="pronounce-btn">ğŸ”Š Hear Sentence</button>
            </div>

            <div class="question">Build the sentence by arranging the words!</div>
            
            <div class="sentence-display" id="sentenceDisplay">
                <!-- Displayed sentence will appear here -->
            </div>

            <div class="word-bank" id="wordBank">
                <!-- Draggable word tiles will be generated here -->
            </div>

            <button id="checkSentence" class="check-btn">âœ“ Check My Sentence</button>
        </div>

        <!-- Comprehension Mode -->
        <div id="comprehension-game" class="game-section">
            <div class="comprehension-container">
                <div class="comprehension-passage">
                    <div class="passage-icon" id="comprehensionIcon">ğŸ“–</div>
                    <h3>Read the passage carefully:</h3>
                    <div class="passage-text" id="passageText">
                        <!-- Passage will be displayed here -->
                    </div>
                    <button id="comprehensionPronounceBtn" class="pronounce-btn">ğŸ”Š Hear Passage</button>
                </div>
                
                <div class="comprehension-questions">
                    <h3 id="comprehensionQuestionTitle">Question 1:</h3>
                    <p class="question-text" id="comprehensionQuestionText"></p>
                    <div class="options" id="comprehensionOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Rhyming Mode -->
        <div id="rhyming-game" class="game-section">
            <div class="rhyming-container">
                <div class="rhyming-target">
                    <h3>Find words that rhyme with:</h3>
                    <div class="target-word-display">
                        <div class="target-word" id="targetWord">cat</div>
                        <button id="targetPronounceBtn" class="pronounce-btn-small">ğŸ”Š</button>
                    </div>
                </div>
                
                <div class="rhyming-question">
                    <p class="question-text">Select all the words that rhyme:</p>
                    <div class="rhyming-options" id="rhymingOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                </div>
                
                <button id="checkRhyming" class="check-btn">âœ“ Check Answers</button>
            </div>
        </div>

        <!-- Digraphs Mode -->
        <div id="digraphs-game" class="game-section">
            <div class="digraphs-container">
                <div class="digraphs-lesson">
                    <h3>ğŸ“š What is a Digraph?</h3>
                    <p class="lesson-text">A <strong>digraph</strong> is when two letters come together to make <strong>one sound</strong>!</p>
                    <div class="digraph-examples">
                        <div class="digraph-example-card">
                            <div class="digraph-letters">sh</div>
                            <div class="digraph-example-word">ğŸš ship</div>
                        </div>
                        <div class="digraph-example-card">
                            <div class="digraph-letters">ch</div>
                            <div class="digraph-example-word">ğŸª‘ chair</div>
                        </div>
                        <div class="digraph-example-card">
                            <div class="digraph-letters">th</div>
                            <div class="digraph-example-word">ğŸ‘ thumb</div>
                        </div>
                        <div class="digraph-example-card">
                            <div class="digraph-letters">wh</div>
                            <div class="digraph-example-word">ğŸ‹ whale</div>
                        </div>
                    </div>
                </div>
                
                <div class="digraphs-question-section">
                    <h3>ğŸ¯ Find the Digraph!</h3>
                    <div class="digraph-word-display">
                        <div class="digraph-word" id="digraphWord">fish</div>
                        <div class="digraph-emoji" id="digraphEmoji">ğŸŸ</div>
                        <button id="digraphPronounceBtn" class="pronounce-btn-small">ğŸ”Š</button>
                    </div>
                    
                    <p class="question-text">Which digraph do you hear in this word?</p>
                    
                    <div class="digraph-options" id="digraphOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Math Game Section -->
        <div id="math-game" class="game-section">
            <div class="math-container">
                <div class="math-problem-display">
                    <div class="math-visual" id="mathVisual">
                        <!-- Visual representation will be shown here -->
                    </div>
                    <div class="math-equation" id="mathEquation">2 + 3 = ?</div>
                </div>
                
                <div class="math-options" id="mathOptions">
                    <!-- Options will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Clock Game Section -->
        <div id="clock-game" class="game-section">
            <div class="clock-container">
                <div class="question">What time is shown on the clock?</div>
                <div class="clock-display" id="clockDisplay">
                    <svg class="clock-svg" viewBox="0 0 200 200">
                        <circle cx="100" cy="100" r="90" fill="#fff" stroke="#333" stroke-width="4"/>
                        <circle cx="100" cy="100" r="5" fill="#333"/>
                        <!-- Clock numbers -->
                        <text x="100" y="35" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">12</text>
                        <text x="155" y="107" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">3</text>
                        <text x="100" y="175" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">6</text>
                        <text x="45" y="107" text-anchor="middle" font-size="20" font-weight="bold" fill="#333">9</text>
                        <text x="130" y="50" text-anchor="middle" font-size="16" fill="#666">1</text>
                        <text x="150" y="70" text-anchor="middle" font-size="16" fill="#666">2</text>
                        <text x="150" y="130" text-anchor="middle" font-size="16" fill="#666">4</text>
                        <text x="130" y="155" text-anchor="middle" font-size="16" fill="#666">5</text>
                        <text x="70" y="155" text-anchor="middle" font-size="16" fill="#666">7</text>
                        <text x="50" y="130" text-anchor="middle" font-size="16" fill="#666">8</text>
                        <text x="50" y="70" text-anchor="middle" font-size="16" fill="#666">10</text>
                        <text x="70" y="50" text-anchor="middle" font-size="16" fill="#666">11</text>
                        <!-- Hour markers -->
                        <line x1="100" y1="20" x2="100" y2="25" stroke="#333" stroke-width="2"/>
                        <line x1="155.88" y1="44.12" x2="151.28" y2="48.72" stroke="#333" stroke-width="2"/>
                        <line x1="180" y1="100" x2="175" y2="100" stroke="#333" stroke-width="2"/>
                        <line x1="155.88" y1="155.88" x2="151.28" y2="151.28" stroke="#333" stroke-width="2"/>
                        <line x1="100" y1="180" x2="100" y2="175" stroke="#333" stroke-width="2"/>
                        <line x1="44.12" y1="155.88" x2="48.72" y2="151.28" stroke="#333" stroke-width="2"/>
                        <line x1="20" y1="100" x2="25" y2="100" stroke="#333" stroke-width="2"/>
                        <line x1="44.12" y1="44.12" x2="48.72" y2="48.72" stroke="#333" stroke-width="2"/>
                        <!-- Hour hand -->
                        <line id="hourHand" x1="100" y1="100" x2="100" y2="50" stroke="#333" stroke-width="6" stroke-linecap="round"/>
                        <!-- Minute hand -->
                        <line id="minuteHand" x1="100" y1="100" x2="100" y2="35" stroke="#666" stroke-width="4" stroke-linecap="round"/>
                    </svg>
                </div>
                
                <div class="clock-options" id="clockOptions">
                    <!-- Options will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- French Game Section -->
        <div id="french-game" class="game-section">
            <div class="french-container">
                <div id="frenchWordDisplay" class="french-word-display">ğŸ</div>
                <div id="frenchEnglish" class="french-english">English: apple</div>
                <button id="frenchPronounce" class="pronounce-btn">ğŸ”Š Hear French</button>
                
                <div class="french-options" id="frenchOptions">
                    <!-- Options will be generated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Music Game Section - Piano Mode -->
        <div id="piano-game" class="game-section">
            <div class="music-container">
                <h3 class="music-title">ğŸ¹ Learn Piano Keys</h3>
                <div class="piano-info">
                    <div class="current-note-display">
                        <span class="note-label">Note:</span>
                        <span id="currentNote" class="current-note">C</span>
                    </div>
                    <button id="playNoteBtn" class="pronounce-btn">ğŸ”Š Play Note</button>
                </div>
                
                <div class="piano-keyboard">
                    <!-- White keys -->
                    <div class="piano-key white-key" data-note="C" data-frequency="261.63">
                        <span class="key-label">C</span>
                        <span class="key-name">Do</span>
                    </div>
                    <div class="piano-key white-key" data-note="D" data-frequency="293.66">
                        <span class="key-label">D</span>
                        <span class="key-name">Re</span>
                    </div>
                    <div class="piano-key white-key" data-note="E" data-frequency="329.63">
                        <span class="key-label">E</span>
                        <span class="key-name">Mi</span>
                    </div>
                    <div class="piano-key white-key" data-note="F" data-frequency="349.23">
                        <span class="key-label">F</span>
                        <span class="key-name">Fa</span>
                    </div>
                    <div class="piano-key white-key" data-note="G" data-frequency="392.00">
                        <span class="key-label">G</span>
                        <span class="key-name">Sol</span>
                    </div>
                    <div class="piano-key white-key" data-note="A" data-frequency="440.00">
                        <span class="key-label">A</span>
                        <span class="key-name">La</span>
                    </div>
                    <div class="piano-key white-key" data-note="B" data-frequency="493.88">
                        <span class="key-label">B</span>
                        <span class="key-name">Ti</span>
                    </div>
                    
                    <!-- Black keys -->
                    <div class="piano-key black-key" data-note="C#" data-frequency="277.18" style="left: 7%;">
                        <span class="key-label">C#</span>
                    </div>
                    <div class="piano-key black-key" data-note="D#" data-frequency="311.13" style="left: 21%;">
                        <span class="key-label">D#</span>
                    </div>
                    <div class="piano-key black-key" data-note="F#" data-frequency="369.99" style="left: 50%;">
                        <span class="key-label">F#</span>
                    </div>
                    <div class="piano-key black-key" data-note="G#" data-frequency="415.30" style="left: 64%;">
                        <span class="key-label">G#</span>
                    </div>
                    <div class="piano-key black-key" data-note="A#" data-frequency="466.16" style="left: 78%;">
                        <span class="key-label">A#</span>
                    </div>
                </div>
                
                <div class="piano-practice">
                    <h4>ğŸ¯ Practice Mode</h4>
                    <p class="instruction-text">Click on the <strong id="targetNoteText">C</strong> key!</p>
                    <div class="practice-feedback" id="practiceFeedback"></div>
                </div>
                
                <!-- Detailed Key Information Section -->
                <div class="key-details-section">
                    <h3>ğŸ“š Learn About Each Key</h3>
                    <div class="key-selector">
                        <button class="key-select-btn active" data-note="C">C</button>
                        <button class="key-select-btn" data-note="D">D</button>
                        <button class="key-select-btn" data-note="E">E</button>
                        <button class="key-select-btn" data-note="F">F</button>
                        <button class="key-select-btn" data-note="G">G</button>
                        <button class="key-select-btn" data-note="A">A</button>
                        <button class="key-select-btn" data-note="B">B</button>
                        <button class="key-select-btn black" data-note="C#">C#</button>
                        <button class="key-select-btn black" data-note="D#">D#</button>
                        <button class="key-select-btn black" data-note="F#">F#</button>
                        <button class="key-select-btn black" data-note="G#">G#</button>
                        <button class="key-select-btn black" data-note="A#">A#</button>
                    </div>
                    
                    <div class="key-info-card" id="keyInfoCard">
                        <div class="key-info-header">
                            <div class="key-info-note" id="keyInfoNote">C</div>
                            <button class="key-info-play-btn" id="keyInfoPlayBtn">ğŸ”Š Play</button>
                        </div>
                        
                        <div class="key-info-grid">
                            <div class="key-info-item">
                                <div class="key-info-label">ğŸ¼ SolfÃ¨ge Name</div>
                                <div class="key-info-value" id="keySolfege">Do</div>
                            </div>
                            
                            <div class="key-info-item">
                                <div class="key-info-label">ğŸ”¢ Frequency</div>
                                <div class="key-info-value" id="keyFrequency">261.63 Hz</div>
                            </div>
                            
                            <div class="key-info-item">
                                <div class="key-info-label">ğŸ¹ Key Type</div>
                                <div class="key-info-value" id="keyType">White Key / Natural</div>
                            </div>
                            
                            <div class="key-info-item">
                                <div class="key-info-label">ğŸ“Š Position</div>
                                <div class="key-info-value" id="keyPosition">1st in the octave</div>
                            </div>
                        </div>
                        
                        <div class="key-description">
                            <h4>ğŸ“– About This Note</h4>
                            <p id="keyDescription">
                                C (Do) is the first note of the musical alphabet and the starting point of the major scale. 
                                It's often called "Middle C" when referring to the center of the piano keyboard. 
                                This note is fundamental to understanding music theory!
                            </p>
                        </div>
                        
                        <div class="key-fun-facts">
                            <h4>âœ¨ Fun Facts</h4>
                            <ul id="keyFunFacts">
                                <li>C major is the simplest scale with no sharps or flats!</li>
                                <li>Most beginner songs start with the note C</li>
                                <li>The white keys from C to C make up one complete octave</li>
                            </ul>
                        </div>
                        
                        <div class="key-examples">
                            <h4>ğŸµ Songs Using This Note</h4>
                            <div class="song-examples" id="songExamples">
                                <span class="song-tag">Twinkle Twinkle Little Star</span>
                                <span class="song-tag">Mary Had a Little Lamb</span>
                                <span class="song-tag">Hot Cross Buns</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Music Quiz Mode -->
        <div id="music-quiz-game" class="game-section">
            <div class="music-quiz-container">
                <h3 class="music-title">ğŸµ Music Theory Quiz</h3>
                
                <div class="quiz-question-container">
                    <div class="quiz-icon">ğŸ¼</div>
                    <h4 id="musicQuizQuestion" class="quiz-question">Which note comes after C?</h4>
                    <button id="playQuizNoteBtn" class="pronounce-btn hidden">ğŸ”Š Play Note</button>
                </div>
                
                <div class="quiz-options" id="musicQuizOptions">
                    <!-- Quiz options will be generated by JavaScript -->
                </div>
                
                <div class="music-theory-info">
                    <h4>ğŸ“š Music Facts:</h4>
                    <div id="musicFactDisplay" class="music-fact">
                        There are 7 white keys (C, D, E, F, G, A, B) and 5 black keys in an octave!
                    </div>
                </div>
            </div>
        </div>

        <!-- Melodies Mode -->
        <div id="melodies-game" class="game-section">
            <div class="melodies-container">
                <h3 class="music-title">ğŸ¼ Learn Simple Melodies</h3>
                
                <div class="melody-display">
                    <h4 id="melodyTitle">Twinkle Twinkle Little Star</h4>
                    <div class="melody-notes" id="melodyNotes">
                        <span class="melody-note">C</span>
                        <span class="melody-note">C</span>
                        <span class="melody-note">G</span>
                        <span class="melody-note">G</span>
                        <span class="melody-note">A</span>
                        <span class="melody-note">A</span>
                        <span class="melody-note">G</span>
                    </div>
                    <button id="playMelodyBtn" class="pronounce-btn">â–¶ï¸ Play Melody</button>
                </div>
                
                <div class="melody-mini-piano">
                    <h4>ğŸ¹ Play Along:</h4>
                    <div class="mini-piano-keys">
                        <button class="mini-key" data-note="C" data-frequency="261.63">C</button>
                        <button class="mini-key" data-note="D" data-frequency="293.66">D</button>
                        <button class="mini-key" data-note="E" data-frequency="329.63">E</button>
                        <button class="mini-key" data-note="F" data-frequency="349.23">F</button>
                        <button class="mini-key" data-note="G" data-frequency="392.00">G</button>
                        <button class="mini-key" data-note="A" data-frequency="440.00">A</button>
                        <button class="mini-key" data-note="B" data-frequency="493.88">B</button>
                    </div>
                </div>
                
                <div class="melody-challenge">
                    <h4>ğŸ¯ Can you repeat the melody?</h4>
                    <div class="melody-progress" id="melodyProgress">
                        <span class="progress-label">Your notes: </span>
                        <span id="playerNotesDisplay"></span>
                    </div>
                    <button id="checkMelodyBtn" class="check-btn">âœ“ Check Melody</button>
                    <button id="resetMelodyBtn" class="reset-btn">ğŸ”„ Reset</button>
                </div>
            </div>
        </div>

        <!-- Recorder Keys Quiz Mode -->
        <div id="recorder-game" class="game-section">
            <div class="recorder-quiz-container">
                <h3 class="music-title">ğŸº Descant Recorder Keys Quiz</h3>
                
                <div class="quiz-question-container">
                    <div class="quiz-icon">ğŸ¼</div>
                    <h4 id="recorderQuizQuestion" class="quiz-question">What note is this fingering?</h4>
                    <button id="playRecorderNoteBtn" class="pronounce-btn">ğŸ”Š Play Note</button>
                </div>
                
                <!-- Recorder Fingering Display -->
                <div class="recorder-fingering-display" id="recorderFingeringDisplay">
                    <div class="recorder-body">
                        <div class="recorder-mouthpiece">ğŸº</div>
                        <div class="recorder-holes">
                            <div class="recorder-hole" data-hole="0">
                                <span class="hole-label">ğŸ‘</span>
                                <div class="hole-circle" id="hole0"></div>
                            </div>
                            <div class="recorder-hole" data-hole="1">
                                <span class="hole-label">â˜ï¸</span>
                                <div class="hole-circle" id="hole1"></div>
                            </div>
                            <div class="recorder-hole" data-hole="2">
                                <span class="hole-label">ğŸ–•</span>
                                <div class="hole-circle" id="hole2"></div>
                            </div>
                            <div class="recorder-hole" data-hole="3">
                                <span class="hole-label">ğŸ’</span>
                                <div class="hole-circle" id="hole3"></div>
                            </div>
                            <div class="recorder-separator"></div>
                            <div class="recorder-hole" data-hole="4">
                                <span class="hole-label">â˜ï¸</span>
                                <div class="hole-circle" id="hole4"></div>
                            </div>
                            <div class="recorder-hole" data-hole="5">
                                <span class="hole-label">ğŸ–•</span>
                                <div class="hole-circle" id="hole5"></div>
                            </div>
                            <div class="recorder-hole" data-hole="6">
                                <span class="hole-label">ğŸ’</span>
                                <div class="hole-circle" id="hole6"></div>
                            </div>
                            <div class="recorder-hole" data-hole="7">
                                <span class="hole-label">ğŸ¤™</span>
                                <div class="hole-circle" id="hole7"></div>
                            </div>
                        </div>
                    </div>
                    <div class="fingering-legend">
                        <div class="legend-item">
                            <div class="hole-example closed"></div>
                            <span>= Covered</span>
                        </div>
                        <div class="legend-item">
                            <div class="hole-example open"></div>
                            <span>= Open</span>
                        </div>
                        <div class="legend-item">
                            <div class="hole-example half"></div>
                            <span>= Half-covered</span>
                        </div>
                    </div>
                </div>
                
                <div class="quiz-options" id="recorderQuizOptions">
                    <!-- Quiz options will be generated by JavaScript -->
                </div>
                
                <div class="recorder-info">
                    <h4>ğŸ“š Recorder Tip:</h4>
                    <div id="recorderTipDisplay" class="recorder-tip">
                        The descant (soprano) recorder is the most common type for beginners. It uses baroque fingering and has a range of about two octaves!
                    </div>
                </div>
            </div>
        </div>

        <!-- Next Button -->
        <button id="nextBtn" class="next-btn hidden">Next â¡ï¸</button>

        </div><!-- End Prize Mode Container -->
        
        <!-- Tug of War Mode - VS Computer -->
        <div id="tug-of-war-container" class="hidden">
            <div class="tow-header">
                <button id="backToMenuBtn" class="back-btn" onclick="showModeSelection()">â¬…ï¸ Back to Menu</button>
                <h2 class="tow-title">ğŸ¤œ Tug of War Battle! ğŸ¤›</h2>
            </div>
            
            <div class="tow-scoreboard">
                <div class="tow-player">
                    <div class="player-name">ğŸ‘¦ Aiden</div>
                    <div class="player-score" id="playerScore">0</div>
                </div>
                <div class="tow-vs">VS</div>
                <div class="tow-player">
                    <div class="player-name">ğŸ¤– Computer</div>
                    <div class="player-score" id="computerScore">0</div>
                </div>
            </div>
            
            <div class="tow-rope-container">
                <div class="tow-marker tow-marker-left">ğŸš©</div>
                <div class="tow-rope">
                    <div class="tow-rope-center" id="ropeCenter"></div>
                    <div class="tow-flag" id="towFlag">ğŸ´</div>
                </div>
                <div class="tow-marker tow-marker-right">ğŸš©</div>
            </div>
            
            <div class="tow-progress">
                <div class="tow-status" id="towStatus">First to win 5 rounds wins!</div>
            </div>
            
            <div class="tow-question-area">
                <div class="tow-mode-display" id="towModeDisplay">Reading Mode</div>
                <div class="tow-question-content" id="towQuestionContent">
                    <!-- Question content will be dynamically loaded -->
                </div>
                <div class="tow-options" id="towOptions">
                    <!-- Options will be generated by JavaScript -->
                </div>
            </div>
        </div>


        <!-- Building Mode Container with Three.js -->
        <!-- Minecraft Building Mode -->
        <div id="building-mode-container" class="hidden">
            <!-- Three.js Canvas -->
            <div id="minecraft-world" class="minecraft-canvas">
                <div class="controls-overlay">
                    <h3>â›ï¸ Minecraft World</h3>
                    <p>ğŸ–±ï¸ Click to place | Right-click to remove</p>
                    <p>ğŸ”„ Drag to rotate | Scroll to zoom</p>
                </div>
            </div>
            
            <!-- Block Inventory Sidebar -->
            <div class="block-inventory">
                <h3>ğŸ“¦ Your Blocks</h3>
                    
                    <div class="selected-block-display">
                        <strong>Selected:</strong>
                        <div id="selectedBlockDisplay" class="selected-block-info">
                            <div class="block-preview grass-block"></div>
                            <span>Grass</span>
                        </div>
                    </div>
                    
                    <div class="inventory-slots">
                        <div class="inventory-slot" data-block="grass" onclick="selectBlock('grass')">
                            <div class="block-preview grass-block"></div>
                            <div class="block-info">
                                <h4>Grass</h4>
                                <div class="block-count" id="count-grass">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="dirt" onclick="selectBlock('dirt')">
                            <div class="block-preview dirt-block"></div>
                            <div class="block-info">
                                <h4>Dirt</h4>
                                <div class="block-count" id="count-dirt">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="wood" onclick="selectBlock('wood')">
                            <div class="block-preview wood-block"></div>
                            <div class="block-info">
                                <h4>Wood</h4>
                                <div class="block-count" id="count-wood">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="stone" onclick="selectBlock('stone')">
                            <div class="block-preview stone-block"></div>
                            <div class="block-info">
                                <h4>Stone</h4>
                                <div class="block-count" id="count-stone">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="iron" onclick="selectBlock('iron')">
                            <div class="block-preview iron-block"></div>
                            <div class="block-info">
                                <h4>Iron</h4>
                                <div class="block-count" id="count-iron">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="gold" onclick="selectBlock('gold')">
                            <div class="block-preview gold-block"></div>
                            <div class="block-info">
                                <h4>Gold</h4>
                                <div class="block-count" id="count-gold">0</div>
                            </div>
                        </div>
                        <div class="inventory-slot" data-block="diamond" onclick="selectBlock('diamond')">
                            <div class="block-preview diamond-block"></div>
                            <div class="block-info">
                                <h4>Diamond</h4>
                                <div class="block-count" id="count-diamond">0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="world-actions">
                        <button id="saveWorld" onclick="saveMinecraftWorld()">
                            ğŸ’¾ Save World
                        </button>
                        <button id="clearWorld" onclick="clearMinecraftWorld()">
                            ğŸ—‘ï¸ Clear All
                        </button>
                        <button id="backToModeBtn" onclick="backToModeSelection()">
                            â† Back to Menu
                        </button>
                    </div>
                </div>
        </div>

        <!-- Reward Popup -->
        <div id="rewardPopup" class="reward-popup hidden">
            <div class="reward-content">
                <div class="reward-animation" id="rewardAnimation">ğŸ‰</div>
                <h2 id="rewardTitle">Amazing!</h2>
                <p id="rewardMessage">You earned a reward!</p>
                <button id="closeReward" class="reward-close-btn">Continue! ğŸš€</button>
            </div>
        </div>

        <!-- Minecraft Block Counter -->
        <div id="blockCounter" class="block-counter hidden">
            <div class="block-counter-icon">ğŸ§±</div>
            <div class="block-counter-text" id="blockCounterText">+2 Grass</div>
        </div>

        <!-- Passcode Modal -->
        <div id="passcodeModal" class="passcode-modal hidden">
            <div class="passcode-content">
                <h2>ğŸ”’ Audio Locked</h2>
                <p>Enter passcode to unlock audio:</p>
                <input type="password" id="passcodeInput" class="passcode-input" placeholder="Enter passcode" maxlength="15">
                <div class="passcode-buttons">
                    <button id="submitPasscode" class="passcode-btn submit-btn">Unlock</button>
                    <button id="cancelPasscode" class="passcode-btn cancel-btn">Cancel</button>
                </div>
                <p id="passcodeError" class="passcode-error hidden">Incorrect passcode!</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="minecraft-world.js"></script>
</body>
</html>
